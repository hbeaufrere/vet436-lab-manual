/* ============================================================
   VET 436 Small Mammal Medicine - PDF Stylesheet
   UC Davis School of Veterinary Medicine
   ============================================================
   Optimized for PDF generation via HonKit/Calibre
   Coordinates with book.json settings:
     Paper: Letter, Margins: 50px, Font size: 11
   Color palette:
     UC Davis Blue:    #002855
     UC Davis Gold:    #C99700
     Dark Gold:        #A67C00
     Light Gold bg:    #FDF8EC
     Gold border:      #E8D5A0
   ============================================================ */

/* -------------------------------------------------------
   1. PAGE & BODY SETUP
   ------------------------------------------------------- */

@page {
    margin: 50px;
    size: letter;
}

body {
    font-family: Georgia, "Times New Roman", Palatino, serif;
    font-size: 11pt;
    line-height: 1.65;
    color: #333333;
    margin: 0;
    padding: 0;
    text-rendering: optimizeLegibility;
    orphans: 3;
    widows: 3;
}

/* -------------------------------------------------------
   2. HEADINGS
   ------------------------------------------------------- */

h1 {
    font-family: Helvetica, Arial, sans-serif;
    color: #002855;
    font-size: 22pt;
    font-weight: bold;
    margin-top: 0;
    margin-bottom: 14pt;
    padding-top: 16pt;
    padding-bottom: 10pt;
    border-top: 4pt solid #C99700;
    border-bottom: 1pt solid #E8D5A0;
    line-height: 1.2;
    page-break-before: always;
    page-break-after: avoid;
}

/* First h1 on the page should not add extra page break */
body > h1:first-child,
section > h1:first-child,
.page > h1:first-child {
    page-break-before: avoid;
    margin-top: 0;
}

h2 {
    font-family: Helvetica, Arial, sans-serif;
    color: #C99700;
    font-size: 16pt;
    font-weight: bold;
    margin-top: 22pt;
    margin-bottom: 10pt;
    padding-bottom: 6pt;
    border-bottom: 1.5pt solid #E8D5A0;
    line-height: 1.25;
    page-break-after: avoid;
}

h3 {
    font-family: Helvetica, Arial, sans-serif;
    color: #444444;
    font-size: 13pt;
    font-weight: bold;
    margin-top: 18pt;
    margin-bottom: 8pt;
    line-height: 1.3;
    page-break-after: avoid;
}

h4 {
    font-family: Helvetica, Arial, sans-serif;
    color: #555555;
    font-size: 11.5pt;
    font-weight: bold;
    margin-top: 16pt;
    margin-bottom: 6pt;
    text-transform: uppercase;
    letter-spacing: 0.5pt;
    line-height: 1.35;
    page-break-after: avoid;
}

h5, h6 {
    font-family: Helvetica, Arial, sans-serif;
    color: #666666;
    font-size: 11pt;
    font-weight: bold;
    margin-top: 12pt;
    margin-bottom: 4pt;
    page-break-after: avoid;
}

/* -------------------------------------------------------
   3. PARAGRAPHS & INLINE ELEMENTS
   ------------------------------------------------------- */

p {
    margin-top: 0;
    margin-bottom: 8pt;
    text-align: justify;
    orphans: 3;
    widows: 3;
    hyphens: auto;
}

strong {
    color: #222222;
    font-weight: bold;
}

/* Key terms in lists: bold items get UC Davis Blue */
li strong {
    color: #002855;
    font-weight: bold;
}

em {
    font-style: italic;
}

/* -------------------------------------------------------
   4. LINKS
   ------------------------------------------------------- */

a {
    color: #002855;
    text-decoration: none;
}

/* -------------------------------------------------------
   5. LISTS
   ------------------------------------------------------- */

ul, ol {
    margin-top: 4pt;
    margin-bottom: 10pt;
    padding-left: 20pt;
}

li {
    margin-bottom: 3pt;
    line-height: 1.6;
}

ul li {
    list-style-type: disc;
}

ul li ul li {
    list-style-type: circle;
}

ul li ul li ul li {
    list-style-type: square;
}

/* -------------------------------------------------------
   6. IMAGES & FIGURES
   ------------------------------------------------------- */

img {
    display: block;
    max-width: 90%;
    max-height: 680px;
    height: auto;
    margin: 12pt auto;
    page-break-inside: avoid;
    border-radius: 3pt;
}

/* Ensure images do not overflow pages */
p img {
    max-width: 90%;
    max-height: 650px;
    object-fit: contain;
    page-break-inside: avoid;
}

/* Keep images with their captions */
p:has(img) {
    page-break-inside: avoid;
}

/* Figure captions */
img + em,
.caption,
figcaption {
    display: block;
    text-align: center;
    font-style: italic;
    font-size: 9.5pt;
    color: #777777;
    margin-top: 2pt;
    margin-bottom: 12pt;
    line-height: 1.35;
}

figure {
    margin: 12pt 0;
    padding: 0;
    text-align: center;
    page-break-inside: avoid;
}

/* -------------------------------------------------------
   7. TABLES
   ------------------------------------------------------- */

table {
    width: 100%;
    border-collapse: collapse;
    margin: 12pt 0;
    font-size: 10pt;
    line-height: 1.4;
    border: 0.5pt solid #BBBBBB;
    page-break-inside: avoid;
}

thead tr {
    background-color: #C99700 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
}

thead th {
    padding: 7pt 9pt;
    text-align: left;
    font-family: Helvetica, Arial, sans-serif;
    font-weight: bold;
    font-size: 9.5pt;
    color: #FFFFFF !important;
    border-bottom: 1.5pt solid #A67C00;
    letter-spacing: 0.3pt;
}

tbody td {
    padding: 6pt 9pt;
    border-bottom: 0.5pt solid #DDDDDD;
    vertical-align: top;
}

tbody tr:nth-child(even) {
    background-color: #FDF8EC !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
}

tbody tr:nth-child(odd) {
    background-color: #FFFFFF;
}

tbody tr:last-child td {
    border-bottom: none;
}

/* Bold text in table cells */
table td strong {
    color: #002855;
}

/* -------------------------------------------------------
   8. BLOCKQUOTES / CALLOUT BOXES
   ------------------------------------------------------- */

blockquote {
    margin: 12pt 0;
    padding: 8pt 10pt 8pt 12pt;
    border-left: 3.5pt solid #002855;
    background-color: #EEF1F5 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    font-size: 10.5pt;
    color: #333333;
    line-height: 1.55;
    page-break-inside: avoid;
}

blockquote p {
    margin-bottom: 4pt;
    text-align: left;
}

blockquote p:last-child {
    margin-bottom: 0;
}

blockquote strong {
    color: #002855;
}

/* Nested blockquotes as "important" or "warning" */
blockquote blockquote {
    border-left-color: #C99700;
    background-color: #FDF8EC !important;
}

/* -------------------------------------------------------
   9. INFO BOXES / HIGHLIGHTED SECTIONS
   ------------------------------------------------------- */

.info-box,
.highlight {
    background-color: #FDF8EC !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    border: 0.5pt solid #E8D5A0;
    border-left: 3.5pt solid #C99700;
    padding: 8pt 10pt;
    margin: 12pt 0;
    font-size: 10.5pt;
    line-height: 1.5;
    page-break-inside: avoid;
}

.info-box p:last-child,
.highlight p:last-child {
    margin-bottom: 0;
}

/* -------------------------------------------------------
   10. CODE
   ------------------------------------------------------- */

code {
    background-color: #F0EDDF;
    padding: 1pt 3pt;
    font-size: 9.5pt;
    font-family: "Courier New", Courier, monospace;
    color: #002855;
}

pre {
    background-color: #F0EDDF !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    border: 0.5pt solid #DDD8C8;
    padding: 8pt 10pt;
    margin: 10pt 0;
    font-size: 9pt;
    line-height: 1.4;
    page-break-inside: avoid;
    overflow: hidden;
    word-wrap: break-word;
}

pre code {
    background: none;
    padding: 0;
}

/* -------------------------------------------------------
   11. HORIZONTAL RULES
   ------------------------------------------------------- */

hr {
    border: none;
    height: 1.5pt;
    background-color: #C99700;
    margin: 16pt 0;
}

/* -------------------------------------------------------
   12. DEFINITION LISTS
   ------------------------------------------------------- */

dt {
    font-weight: bold;
    color: #002855;
    margin-top: 8pt;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 11pt;
}

dd {
    margin-left: 15pt;
    margin-bottom: 4pt;
    color: #444444;
}

/* -------------------------------------------------------
   13. FOOTNOTES
   ------------------------------------------------------- */

.footnote {
    font-size: 8.5pt;
    color: #666666;
    line-height: 1.35;
}

sup {
    color: #C99700;
    font-weight: bold;
    font-size: 7.5pt;
}

/* -------------------------------------------------------
   14. TABLE OF CONTENTS (Generated)
   ------------------------------------------------------- */

.toc-title {
    font-family: Helvetica, Arial, sans-serif;
    color: #002855;
    font-size: 20pt;
    font-weight: bold;
    margin-bottom: 12pt;
    border-bottom: 2pt solid #C99700;
    padding-bottom: 8pt;
}

.toc a {
    color: #333333;
    text-decoration: none;
}

.toc li {
    margin-bottom: 2pt;
    line-height: 1.5;
}

/* -------------------------------------------------------
   15. COVER PAGE HELPERS
   ------------------------------------------------------- */

.cover-page {
    text-align: center;
    page-break-after: always;
}

.cover-page h1 {
    border: none;
    color: #002855;
    font-size: 28pt;
    margin-top: 120pt;
    page-break-before: avoid;
}

.cover-page h2 {
    border: none;
    color: #C99700;
    font-size: 16pt;
    margin-top: 8pt;
}

.cover-page p {
    text-align: center;
    color: #555555;
    font-size: 12pt;
}

/* -------------------------------------------------------
   16. PAGE BREAK CONTROLS
   ------------------------------------------------------- */

.page-break-before {
    page-break-before: always;
}

.page-break-after {
    page-break-after: always;
}

.no-break {
    page-break-inside: avoid;
}

/* Force page breaks before each major chapter heading */
h1 {
    page-break-before: always;
    page-break-after: avoid;
}

/* Keep headings with following content */
h2, h3, h4, h5, h6 {
    page-break-after: avoid;
}

/* Keep images, tables, and callouts from splitting */
figure,
table,
blockquote,
img,
.info-box,
.highlight {
    page-break-inside: avoid;
}

/* Avoid orphaned list items */
li {
    page-break-inside: avoid;
}

/* -------------------------------------------------------
   17. PDF-SPECIFIC HEADER / FOOTER BANNER
   ------------------------------------------------------- */

/*
   The warm gold header banner is controlled via book.json
   headerTemplate / footerTemplate settings. These CSS
   classes support custom header/footer HTML if injected.
*/

.pdf-header {
    background-color: #C99700 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    color: #FFFFFF;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 9pt;
    padding: 4pt 12pt;
    text-align: center;
    font-weight: bold;
    letter-spacing: 0.5pt;
}

.pdf-footer {
    color: #888888;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 8pt;
    text-align: center;
    padding: 4pt 12pt;
    border-top: 0.5pt solid #E8D5A0;
}

/* -------------------------------------------------------
   18. PRINT COLOR ENFORCEMENT
   ------------------------------------------------------- */

/* Ensure backgrounds print in PDF output */
* {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
}
